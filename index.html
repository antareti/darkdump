<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>macOS Web Desktop</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
    /* –û–ë–©–ï–ï */
    * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
        user-select: none;
    }
    html, body {
        width: 100%;
        height: 100%;
        overflow: hidden;
        font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui, sans-serif;
    }
    body {
        background: radial-gradient(circle at top left, #4e6cfb, #151827 60%, #050510);
        color: #fff;
    }

    /* –û–ë–û–ò/–†–ê–ë–û–ß–ò–ô –°–¢–û–õ */
    .desktop {
        position: relative;
        width: 100%;
        height: 100%;
    }

    /* –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ (MENU BAR) */
    .menubar {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 24px;
        background: rgba(10,10,10,0.82);
        backdrop-filter: blur(18px);
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 8px;
        font-size: 12px;
        -webkit-app-region: drag;
    }
    .menubar-left, .menubar-center, .menubar-right {
        display: flex;
        align-items: center;
        gap: 8px;
    }
    .apple-logo {
        font-size: 14px;
        margin-right: 6px;
    }
    .menu-item {
        padding: 0 4px;
        border-radius: 3px;
        cursor: default;
    }
    .menu-item:hover {
        background: rgba(255,255,255,0.1);
    }

    /* –ò–ö–û–ù–ö–ò –ù–ê –†–ê–ë–û–ß–ï–ú –°–¢–û–õ–ï */
    .desktop-icons {
        position: absolute;
        top: 40px;
        right: 14px;
        display: flex;
        flex-direction: column;
        gap: 16px;
        font-size: 11px;
        text-align: center;
    }
    .desktop-icon {
        width: 64px;
        cursor: default;
    }
    .desktop-icon-img {
        width: 48px;
        height: 48px;
        margin: 0 auto 4px;
        border-radius: 10px;
        background: rgba(255,255,255,0.18);
        border: 1px solid rgba(255,255,255,0.35);
        box-shadow: 0 10px 25px rgba(0,0,0,0.45);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
    }
    .desktop-icon span {
        text-shadow: 0 1px 2px rgba(0,0,0,0.7);
        word-break: break-word;
    }

    /* –î–û–ö */
    .dock-wrapper {
        position: absolute;
        left: 50%;
        bottom: 10px;
        transform: translateX(-50%);
        padding: 4px 10px;
        border-radius: 16px;
        background: rgba(15,15,20,0.75);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(255,255,255,0.14);
        box-shadow: 0 18px 40px rgba(0,0,0,0.65);
    }
    .dock {
        display: flex;
        align-items: flex-end;
        gap: 10px;
    }
    .dock-item {
        width: 52px;
        height: 52px;
        border-radius: 14px;
        background: linear-gradient(145deg, #2b2f4a, #111322);
        box-shadow:
            0 12px 22px rgba(0,0,0,0.7),
            0 0 0 1px rgba(255,255,255,0.15);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 26px;
        cursor: pointer;
        transition: transform 0.18s ease, box-shadow 0.18s ease;
        position: relative;
    }
    .dock-item:hover {
        transform: translateY(-6px) scale(1.06);
        box-shadow:
            0 20px 30px rgba(0,0,0,0.85),
            0 0 0 1px rgba(255,255,255,0.25);
    }
    .dock-dot {
        position: absolute;
        bottom: 4px;
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: #fff;
        opacity: 0;
        transition: opacity 0.15s ease;
    }
    .dock-item.active .dock-dot {
        opacity: 1;
    }

    /* –û–ö–ù–ê */
    .window {
        position: absolute;
        top: 80px;
        left: 120px;
        width: 560px;
        min-width: 320px;
        min-height: 240px;
        background: rgba(18,18,22,0.96);
        border-radius: 12px;
        box-shadow:
            0 22px 55px rgba(0,0,0,0.85),
            0 0 0 1px rgba(255,255,255,0.12);
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }
    .window.hidden {
        display: none;
    }
    .window-titlebar {
        height: 28px;
        display: flex;
        align-items: center;
        padding: 0 10px;
        gap: 10px;
        background: linear-gradient(to bottom, #22232b, #161721);
        border-bottom: 1px solid rgba(255,255,255,0.05);
        cursor: move;
    }
    .title-buttons {
        display: flex;
        gap: 6px;
    }
    .btn-circle {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        border: 1px solid rgba(0,0,0,0.4);
        box-shadow: 0 0 0 1px rgba(0,0,0,0.25);
        cursor: pointer;
    }
    .btn-close { background: #ff5f57; }
    .btn-minimize { background: #febc2e; }
    .btn-full { background: #28c840; }

    .window-title {
        flex: 1;
        text-align: center;
        font-size: 12px;
        color: #d1d1d1;
        text-shadow: 0 1px 1px rgba(0,0,0,0.7);
        pointer-events: none;
    }
    .window-content {
        flex: 1;
        padding: 12px 14px;
        font-size: 13px;
        color: #e4e4e4;
        background: radial-gradient(circle at top left, #262a40, #141624 55%, #0b0c14);
    }
    .window-content pre {
        background: rgba(0,0,0,0.35);
        padding: 10px;
        border-radius: 8px;
        font-size: 12px;
        overflow: auto;
        max-height: 260px;
    }
    .window-footer {
        padding: 6px 10px;
        font-size: 11px;
        color: #999;
        border-top: 1px solid rgba(255,255,255,0.06);
        background: rgba(8,8,12,0.9);
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .tag-pill {
        padding: 2px 8px;
        border-radius: 999px;
        border: 1px solid rgba(255,255,255,0.3);
        font-size: 10px;
        text-transform: uppercase;
        letter-spacing: 0.04em;
    }

    /* –ü–û–î–°–í–ï–¢–ö–ê –§–û–ö–£–°–ê –û–ö–ù–ê */
    .window.active {
        box-shadow:
            0 25px 60px rgba(0,0,0,0.95),
            0 0 0 1px rgba(138,180,255,0.7);
    }

    /* –ê–ù–ò–ú–ê–¶–ò–Ø –ü–û–Ø–í–õ–ï–ù–ò–Ø */
    .window {
        opacity: 0;
        transform: scale(0.95) translateY(10px);
        animation: fadeInWin 0.2s forwards;
    }
    @keyframes fadeInWin {
        to {
            opacity: 1;
            transform: scale(1) translateY(0);
        }
    }
</style>
</head>
<body>
<div class="desktop">

    <!-- –í–ï–†–•–ù–Ø–Ø –ü–ê–ù–ï–õ–¨ -->
    <div class="menubar">
        <div class="menubar-left">
            <span class="apple-logo">Ô£ø</span>
            <span class="menu-item"><b>Finder</b></span>
            <span class="menu-item">File</span>
            <span class="menu-item">Edit</span>
            <span class="menu-item">View</span>
            <span class="menu-item">Go</span>
            <span class="menu-item">Window</span>
            <span class="menu-item">Help</span>
        </div>
        <div class="menubar-center">
            <span>macOS Web Desktop</span>
        </div>
        <div class="menubar-right">
            <span>üîã</span>
            <span>üì∂</span>
            <span id="clock"></span>
        </div>
    </div>

    <!-- –ò–ö–û–ù–ö–ò –ù–ê –†–ê–ë–û–ß–ï–ú –°–¢–û–õ–ï -->
    <div class="desktop-icons">
        <div class="desktop-icon" data-open="finder">
            <div class="desktop-icon-img">üìÅ</div>
            <span>Macintosh HD</span>
        </div>
        <div class="desktop-icon" data-open="about">
            <div class="desktop-icon-img">üíª</div>
            <span>About This Mac</span>
        </div>
    </div>

    <!-- –î–û–ö -->
    <div class="dock-wrapper">
        <div class="dock">
            <div class="dock-item" data-open="finder" title="Finder">
                <span>üìÅ</span>
                <div class="dock-dot"></div>
            </div>
            <div class="dock-item" data-open="code" title="Code">
                <span>üßë‚Äçüíª</span>
                <div class="dock-dot"></div>
            </div>
            <div class="dock-item" data-open="notes" title="Notes">
                <span>üìù</span>
                <div class="dock-dot"></div>
            </div>
            <div class="dock-item" data-open="about" title="About This Mac">
                <span>üçè</span>
                <div class="dock-dot"></div>
            </div>
        </div>
    </div>

    <!-- –û–ö–ù–ê -->

    <!-- Finder -->
    <div class="window hidden" data-id="finder">
        <div class="window-titlebar">
            <div class="title-buttons">
                <div class="btn-circle btn-close" data-action="close"></div>
                <div class="btn-circle btn-minimize" data-action="minimize"></div>
                <div class="btn-circle btn-full" data-action="maximize"></div>
            </div>
            <div class="window-title">Finder ‚Äî Desktop</div>
        </div>
        <div class="window-content">
            <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –≤–µ–±-–∫–æ–ø–∏—é —Ä–∞–±–æ—á–µ–≥–æ —Å—Ç–æ–ª–∞ <b>macOS</b> üî•</p>
            <p style="margin-top:8px;">
                –≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –¥–µ–º–æ: –æ–∫–Ω–∞ –º–æ–∂–Ω–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞—Ç—å, –æ—Ç–∫—Ä—ã–≤–∞—Ç—å —á–µ—Ä–µ–∑ –¥–æ–∫ –∏ –∏–∫–æ–Ω–∫–∏.
            </p>
            <pre>
Desktop
 ‚îú‚îÄ Projects
 ‚îÇ   ‚îú‚îÄ macos_web_desktop.html
 ‚îÇ   ‚îî‚îÄ notes.txt
 ‚îî‚îÄ Screenshots
            </pre>
        </div>
        <div class="window-footer">
            <span class="tag-pill">Finder</span>
            <span>0 items, 0 GB available</span>
        </div>
    </div>

    <!-- Code -->
    <div class="window hidden" data-id="code">
        <div class="window-titlebar">
            <div class="title-buttons">
                <div class="btn-circle btn-close" data-action="close"></div>
                <div class="btn-circle btn-minimize" data-action="minimize"></div>
                <div class="btn-circle btn-full" data-action="maximize"></div>
            </div>
            <div class="window-title">index.html ‚Äî WebDesktop</div>
        </div>
        <div class="window-content">
            <p>–ó–¥–µ—Å—å –º–æ–≥ –±—ã –±—ã—Ç—å —Ç–≤–æ–π –∫–æ–¥ üòà</p>
            <pre>&lt;!-- –ú–∏–Ω–∏–º–∞–ª–∫–∞ –¥–ª—è —Å—Ç–∞—Ä—Ç–∞ --&gt;
&lt;html&gt;
  &lt;head&gt;
    &lt;title&gt;macOS Web Desktop&lt;/title&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;!-- —Ä–∞–±–æ—á–∏–π —Å—Ç–æ–ª --&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre>
        </div>
        <div class="window-footer">
            <span class="tag-pill">HTML</span>
            <span>UTF-8 ‚Ä¢ 4 spaces</span>
        </div>
    </div>

    <!-- Notes -->
    <div class="window hidden" data-id="notes">
        <div class="window-titlebar">
            <div class="title-buttons">
                <div class="btn-circle btn-close" data-action="close"></div>
                <div class="btn-circle btn-minimize" data-action="minimize"></div>
                <div class="btn-circle btn-full" data-action="maximize"></div>
            </div>
            <div class="window-title">–ó–∞–º–µ—Ç–∫–∏</div>
        </div>
        <div class="window-content">
            <p><b>–ò–¥–µ–∏:</b></p>
            <ul style="margin-top:6px; margin-left:16px;">
                <li>–°–¥–µ–ª–∞—Ç—å –∑–∞–ø—É—Å–∫–∞–µ–º—ã–µ –∏–∫–æ–Ω–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π</li>
                <li>–î–æ–±–∞–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é —Å–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏—è –≤ –¥–æ–∫</li>
                <li>–ü—Ä–∏–≤—è–∑–∞—Ç—å –æ–∫–Ω–∞ –∫ –≥—Ä–∞–Ω–∏—Ü–∞–º —ç–∫—Ä–∞–Ω–∞</li>
            </ul>
        </div>
        <div class="window-footer">
            <span class="tag-pill">Notes</span>
            <span>iCloud ¬∑ All iDevices</span>
        </div>
    </div>

    <!-- About -->
    <div class="window hidden" data-id="about">
        <div class="window-titlebar">
            <div class="title-buttons">
                <div class="btn-circle btn-close" data-action="close"></div>
                <div class="btn-circle btn-minimize" data-action="minimize"></div>
                <div class="btn-circle btn-full" data-action="maximize"></div>
            </div>
            <div class="window-title">About This Mac</div>
        </div>
        <div class="window-content">
            <p style="font-size:18px; margin-bottom:4px;">macOS ‚Äî Web Edition</p>
            <p>Version 1.0 (HTML/CSS/JS)</p>
            <p style="margin-top:10px;">–ü—Ä–æ—Ü–µ—Å—Å–æ—Ä: Whatever inside your browser</p>
            <p>–ü–∞–º—è—Ç—å: –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è (–ø–æ—á—Ç–∏)</p>
            <p>–ì—Ä–∞—Ñ–∏–∫–∞: CSS + –Ω–µ–º–Ω–æ–≥–æ –º–∞–≥–∏–∏</p>
        </div>
        <div class="window-footer">
            <span class="tag-pill">System</span>
            <span>¬© –¢—ã, —Ç–µ–∫—É—â–∏–π –≤–ª–∞–¥–µ–ª–µ—Ü —ç—Ç–æ–π –≤–∫–ª–∞–¥–∫–∏</span>
        </div>
    </div>

</div>

<script>
    // –ß–ê–°–´ –í –ü–†–ê–í–û–ú –í–ï–†–•–£
    function updateClock() {
        const el = document.getElementById('clock');
        const now = new Date();
        const opts = { hour: '2-digit', minute: '2-digit' };
        el.textContent = now.toLocaleTimeString([], opts);
    }
    updateClock();
    setInterval(updateClock, 10000);

    // –û–¢–ö–†–´–¢–ò–ï –û–ö–û–ù
    const windows = document.querySelectorAll('.window');
    const dockItems = document.querySelectorAll('.dock-item');
    const desktopIcons = document.querySelectorAll('.desktop-icon');
    let zIndexBase = 10;

    function bringToFront(win) {
        zIndexBase += 1;
        win.style.zIndex = zIndexBase;
        windows.forEach(w => w.classList.remove('active'));
        win.classList.add('active');
    }

    function openWindow(id) {
        const win = document.querySelector('.window[data-id="'+id+'"]');
        if (!win) return;
        win.classList.remove('hidden');
        bringToFront(win);
        const dockItem = document.querySelector('.dock-item[data-open="'+id+'"]');
        if (dockItem) dockItem.classList.add('active');
    }

    function closeWindow(win) {
        const id = win.getAttribute('data-id');
        win.classList.add('hidden');
        const dockItem = document.querySelector('.dock-item[data-open="'+id+'"]');
        if (dockItem) dockItem.classList.remove('active');
    }

    dockItems.forEach(item => {
        item.addEventListener('click', () => {
            const id = item.getAttribute('data-open');
            const win = document.querySelector('.window[data-id="'+id+'"]');
            if (win.classList.contains('hidden')) {
                openWindow(id);
            } else {
                // –µ—Å–ª–∏ —É–∂–µ –æ—Ç–∫—Ä—ã—Ç–æ ‚Äî –ø—Ä–æ—Å—Ç–æ –ø–æ–¥–Ω—è—Ç—å –Ω–∞–≤–µ—Ä—Ö
                bringToFront(win);
            }
        });
    });

    desktopIcons.forEach(icon => {
        icon.addEventListener('dblclick', () => {
            const id = icon.getAttribute('data-open');
            openWindow(id);
        });
    });

    // –ö–ù–û–ü–ö–ò –û–ö–ù–ê (–°–í–ï–†–ù–£–¢–¨/–ó–ê–ö–†–´–¢–¨/–§–£–õ–õ)
    windows.forEach(win => {
        const titlebar = win.querySelector('.window-titlebar');
        const buttons = win.querySelectorAll('.btn-circle');

        buttons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                const action = btn.getAttribute('data-action');
                if (action === 'close') {
                    closeWindow(win);
                } else if (action === 'minimize') {
                    win.classList.add('hidden');
                } else if (action === 'maximize') {
                    if (win.dataset.maximized === '1') {
                        win.style.top = '80px';
                        win.style.left = '120px';
                        win.style.width = '560px';
                        win.style.height = '';
                        win.dataset.maximized = '0';
                    } else {
                        win.style.top = '26px';
                        win.style.left = '0';
                        win.style.width = '100%';
                        win.style.height = 'calc(100% - 40px)';
                        win.dataset.maximized = '1';
                    }
                }
                e.stopPropagation();
            });
        });

        // –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
        let isDragging = false;
        let offsetX = 0, offsetY = 0;

        titlebar.addEventListener('mousedown', (e) => {
            if (e.target.classList.contains('btn-circle')) return;
            isDragging = true;
            bringToFront(win);
            const rect = win.getBoundingClientRect();
            offsetX = e.clientX - rect.left;
            offsetY = e.clientY - rect.top;
            document.body.style.cursor = 'move';
        });

        document.addEventListener('mousemove', (e) => {
            if (!isDragging) return;
            let x = e.clientX - offsetX;
            let y = e.clientY - offsetY;
            const maxX = window.innerWidth - 120;
            const maxY = window.innerHeight - 80;
            if (x < - (win.offsetWidth - 80)) x = - (win.offsetWidth - 80);
            if (y < 24) y = 24;
            if (x > maxX) x = maxX;
            if (y > maxY) y = maxY;
            win.style.left = x + 'px';
            win.style.top = y + 'px';
            win.dataset.maximized = '0';
            win.style.width = win.style.width || '560px';
            win.style.height = win.style.height || 'auto';
        });

        document.addEventListener('mouseup', () => {
            isDragging = false;
            document.body.style.cursor = 'default';
        });

        win.addEventListener('mousedown', () => bringToFront(win));
    });

    // –û–¢–ö–†–´–¢–¨ FINDER –ü–û –£–ú–û–õ–ß–ê–ù–ò–Æ
    openWindow('finder');
</script>
</body>
</html>
